<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" href="./src/logo.png" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Bhargav V</title>
    <link href="./style.css" rel="stylesheet"/>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,400..900;1,400..900&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Anonymous+Pro:ital,wght@0,400;0,700;1,400;1,700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap" rel="stylesheet">
  </head>
  <body>
    <!--Cursor hover effect-->
    <div id="blob"></div>

    <!--Main landing section-->
    <div id="homepage">

      <!--Transaparent layer to give gradient to main landing page design-->
      <div id="trs" class="tanps"></div>

      <!--Navigation bar-->
      <nav id="navi">
        <h3><a href="#homepage" id="home_a"><span id="home" data-value="BHARGAV">BHARGAV</span><span class="initial"> V</span></a></h3>
        <div id="underline" class="undrln"></div>
        <ul id="navitm">
          <li><a href="#aboutme" class="greatText" data-value="ABOUT" onmouseover="animateText(0)">ABOUT</a></li>
          <li><a href="#projects" class="greatText" data-value="PROJECTS" onmouseover="animateText(1)">PROJECTS</a></li>
          <li><a href="#connect" class="greatText" data-value="CONNECT" onmouseover="animateText(2)">CONNECT</a></li>
        </ul>
      </nav>

      <!--Main big font welcome section-->
      <div class="title">
        <div class="main_text">
          <h1><span class="flickr_blue">H</span><span class="flickr_blue">e</span><span class="flickr_blue">l</span><span class="flickr_blue">l</span><span class="flickr_blue">o</span><span class="flickr_blue">,</span></h1>
          <h1><span class="flickr_blue">I</span> <span class="flickr_blue">a</span><span class="flickr_blue">m</span> 
            <span class="flickr_blue">B</span><span class="flickr_blue">h</span><span class="flickr_blue">a</span><span class="flickr_blue">r</span><span class="flickr_blue">g</span><span class="flickr_blue">a</span><span class="flickr_blue">v</span>
            <span class="flickr_blue">V</span></h1>
          <h6 class="main-text"><span class=""><i class="flickr">&#8600; Web Developer</i></span></h6>
        </div>

        <!--Call to action buttons-->
        <div class="cta">
          <a href="./document/imvbhargav_resume.pdf" download="BhargavVResume.pdf" aria-hidden="true" class="hidden_a" id="pdf_file"></a>
          <button class="flickr_blue b1" onclick="downloadPdf()"><img src="./src/downloading.png" width="25" height="25"/> <strong> Resume</strong></button>
          <button class="flickr_blue b2"><a href="#connect"><img src="./src/mobile.png" width="30" height="30"/> <strong> Contact</strong></a></button>
        </div>
      </div>
    </div>

    <!--About me section-->
    <div class="aboutme" id="aboutme">

      <!--About me heading-->
      <h1 class="about_me_h1"><span class="ornge">A</span>bout Me.</h1>

      <div class="grad">
        <div class="about_me_desc">
          <!--My picture section-->
          <img class="about_me_img" src="./src/pic.jpg" id="photo__img"/>
          <div class="about_me__text">
            <!--About me description section-->
            <p class="about_me_p">
              <span class="ornge">&#8600;</span> Hello, I'm <span class="ornge" id="photo">Bhargav V </span>, Since my age of 16, I have been learning and developing skills in Web Development, After completion of BSc in Computer
              Science from Mangalore University, I have joined Mimsys Technologies Pvt. Ltd. on April 2023 as Junior Software Engineer.
              With a strong foundation in HTML, CSS, and JavaScript and my passion in developing products for web that makes the 
              world more accessable with ease, I have been learning and working in emerging tools of Web Development.
            </p>
          </div>
        </div>

        <div class="aboutme_main">
          <!--Education section-->
          <div class="aboutme_edu">
            <h3 class="aboutme_edu__h3">Education</h3>
            <div class="aboutme_edu__desc">
              <h4>Bachelor of Science</h4>
              <i style="font-size: x-small;">in Computer Science</i>
              <h4><span class="ornge">&#8600;</span> Mangalore University</h4>
              <h5>2019 - 2022</h5>
            </div>
          </div>

          <!--Work Experience section-->
          <div class="aboutme_work">
            <h3 class="aboutme_work__h3">Work Experience</h3>
            <div class="aboutme_work__desc">
              <h4>Junior Software Engineer</h4>
              <h4><span class="ornge">&#8600;</span> Mimsys Technologies Pvt Ltd</h4>
              <h5>april 2023 - present</h5>
            </div>
          </div>
        </div>
      </div>
      <!--Certifications section-->
      <h3 class="aboutme_cert__h3">Certifications</h3>
      <div class="not_for_mbl">
        <img class="cert__img" id="certImg" src="./src/beta.png"/>
        <a class="cert_img__a" data-index="0"><span class="ornge">&#8600;</span> Responsive Web Design</a>
        <a class="cert_img__a" data-index="1"><span class="ornge">&#8600;</span> JavaScript Algorithms and Data Structures (Beta)</a>
        <a class="cert_img__a" data-index="2"><span class="ornge">&#8600;</span> Front End Development Libraries</a>
        <a class="cert_img__a" data-index="3"><span class="ornge">&#8600;</span> Legacy JavaScript Algorithms and Data Structures</a>
      </div>
      <div class="slideshow-container">

        <div class="mySlides fade">
          <img src="./src/rwd.png">
          <div class="text">Responsive Web Design</div>
        </div>
        
        <div class="mySlides fade">
          <img src="./src/beta.png">
          <div class="text">JavaScript Algorithms and Data Structures (Beta)</div>
        </div>
        
        <div class="mySlides fade">
          <img src="./src/fdl.png">
          <div class="text">Front End Development Libraries</div>
        </div>

        <div class="mySlides fade">
          <img src="./src/jsads.png">
          <div class="text">Legacy JavaScript Algorithms and Data Structures</div>
        </div>
        
        <a class="prev" onclick="plusSlides(-1)">❮</a>
        <a class="next" onclick="plusSlides(1)">❯</a>
        
      </div>
      <br>
      
      <div class="dootts" style="text-align:center">
        <span class="dot" onclick="currentSlide(1)"></span> 
        <span class="dot" onclick="currentSlide(2)"></span> 
        <span class="dot" onclick="currentSlide(3)"></span> 
        <span class="dot" onclick="currentSlide(4)"></span> 
      </div>

      <!--About me skills section-->
      <h3 class="skills_h2 MagicScroll">Skills</h3>
      <div class="sk_wrap">
        <div class="scroller" data-direction="left" data-speed="slow">
          <div class="skills scroller_inner" id="skills">
            <img class="skill_img" src="./src/p5.png" width="60" height="60" draggable="false"/>
            <img class="skill_img" src="./src/p3.png" width="60" height="60" draggable="false"/>
            <img class="skill_img" src="./src/p8.png" width="60" height="60" draggable="false"/>
            <img class="skill_img" src="./src/rect.png" width="60" height="60" draggable="false"/>
            <img class="skill_img" src="./src/p7.png" width="60" height="60" draggable="false"/>
            <img class="skill_img" src="./src/next.png" width="60" height="60" draggable="false"/>
            <img class="skill_img" src="./src/djangoproject.svg" width="60" height="60" draggable="false"/>
            <img class="skill_img" src="./src/p9.png" width="60" height="60" draggable="false"/>
            <img class="skill_img" src="./src/p2.png" width="60" height="60" draggable="false"/>
            <img class="skill_img" src="./src/p6.png" width="60" height="60" draggable="false"/>
            <img class="skill_img" src="./src/p1.png" width="60" height="60" draggable="false"/>
          </div>
        </div>
      </div>
    </div>

    <!--Projects section-->
    <div id="projects">
      <div class="project_div">
        
        <h2>WORK IN PROGRESS</h2>

      </div>
      <h1 class="projects_h1"><span class="ornge">P</span>rojects.</h1>
    </div>

    <!--Connect with me section-->
    <div id="connect">
      <h1 class="connect_h1"><span class="ornge">C</span>onnect <br> with <br> me.</h1>
      <div class="form_div">
        
        <div class="sm_links">
          <h6>Find me on:</h6>
          <h5><a href="https://www.github.com/imvbhargav" target="_blank">01. github <span class="ornge">&rarr;</span></a><h5>
          <h5><a href="https://www.linkedin.com/in/imvbhargav" target="_blank">02. linkedin <span class="ornge">&rarr;</span></a></h5>
        </div>
        <h3>OR</h3>
        <form onsubmit="event.preventDefault(); sendMail();" id="contact__form">
          <p>Send me a message or just send a mail at <strong>hellobhargavv@gmail.com</strong></p>
          <span id="err__name" style="color: red; font-size: x-small; padding-left: 2.5em">Name can't be blank!</span>
          <input id="senderName" type="text" name="name" placeholder="Name*" autocomplete="off"/>
          <span id="err__email" style="color: red; font-size: x-small; padding-left: 2.5em">Valid email please!</span>
          <input id="senderEmail" type="text" name="email" placeholder="Email*" autocomplete="off"/>
          <span id="err__msg" style="color: red; font-size: x-small; padding-left: 2.5em">Message can't be blank!</span>
          <textarea id="sendingMsg" name="message" rows="8" cols="50" placeholder="Message*" autocomplete="off"></textarea>
          <input id="submitButton" type="submit" name="submit" placeholder="Submit" value="Send"/>
        </form>

      </div>
    </div>

    <!--Footer section-->
    <footer>
      <h3>&copy; Copyright - 2024, Bhargav V.</h3>
    </footer>

    <!--Import script for javascript execution-->
    <script>
      const emailRegex = /^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;
document.getElementById("trs").style.height = document.getElementById("homepage").offsetHeight;

// CODE FOR HANDLING MAIN CURSON GRADIENT MOVE.
const body = document.body;
const blob = document.getElementById('blob');
let {clientX, clientY} = 0;

// animateBlob(clientX, clientY) => Function to call on 'onpointermove'
// or 'onscroll' event to handle gradient motion animation.
let animateBlob = (clientX, clientY) => {
  clientY = document.documentElement.scrollTop + clientY;

  // Code to stop blob going beyond body height.
  clientY = Math.min(clientY, body.clientHeight - blob.offsetHeight / 1.4)
  blob.animate(
    {
      left: `${clientX - 175}px`,
      top: `${clientY - 175}px`
    }, { duration: 1000, fill: 'forwards'}
  )
}


// On pointer moved get pointer position and animate gradient.
document.body.onpointermove = event => {
  clientX = event.clientX;
  clientY = event.clientY;

  if (navigator.maxTouchPoints <= 0 && clientX != NaN && clientY != NaN){
    animateBlob(clientX, clientY)
  }
}


// On scroll hanle all animation on scroll.
window.addEventListener("scroll", function(e){

  // If scrolling down 100px then move main hero section background position.
  if (document.documentElement.scrollTop > 100){
    document.getElementById('homepage').animate(
      {backgroundPosition: `10% 10%`}, { duration: 2500, fill: 'forwards'}
    )
  }

  // If scrolling up 100px then move main hero section background position.
  if (document.documentElement.scrollTop < 100){
    document.getElementById('homepage').animate(
      {backgroundPosition: `0% 0%`}, { duration: 2500, fill: 'forwards'}
    )
  }

  // If scrolling down 200px then hide navigation items and make name logo short.
  if (document.documentElement.scrollTop > 200){
    document.getElementById('navitm').style.pointerEvents = 'none';
    document.getElementById('navi').style.pointerEvents = 'none';
    document.getElementById('home_a').style.pointerEvents = 'visible';
    document.getElementById('home').animate(
      {width: `12px`}, { duration: 2000, fill: 'forwards'}
    )
    document.getElementById('navitm').animate(
      {opacity: 0}, { duration: 2000, fill: 'forwards'}
    )
  }

  // If scrolling up 200px then show navigation items and make name logo long as original.
  if (document.documentElement.scrollTop < 200){
    document.getElementById('navitm').style.pointerEvents = 'visible';
    document.getElementById('navi').style.pointerEvents = 'visible';
    document.getElementById('home_a').style.pointerEvents = 'visible';
    document.getElementById('home').animate(
      {width: `95.15px`}, { duration: 2000, fill: 'forwards'}
    )
    document.getElementById('navitm').animate(
      {opacity: 1}, { duration: 2000, fill: 'forwards'}
    )
  }

  // If pointer is present and cursor events are valid then animate gradient.
  if (navigator.maxTouchPoints <= 0 && clientX != NaN && clientY != NaN){
    animateBlob(clientX, clientY)
  }
})


// CODE FOR HANDLING MAIN SKILLS SECTION AUTO SCROLL.
const scrollers = document.querySelectorAll(".scroller");

// If user is comfortable with auto motion only then show scroll animation.
if (!window.matchMedia("(prefers-reduced-motion: reduce)").matches){
  addAnimation();
}

// addAnimation => Function to handle auto scroll on skills section.
function addAnimation(){

  // For each element in scroller if data-animated is true, then
  // duplicate the children inside scroller_inner section to 
  // maintain continuous scroll.
  scrollers.forEach(scroller => {
    scroller.setAttribute("data-animated", true)

    const scrollerInner = scroller.querySelector('.scroller_inner')
    const scrollerContent = Array.from(scrollerInner.children)

    scrollerContent.forEach(item => {
      const duplicatedItem = item.cloneNode(true);

      duplicatedItem.setAttribute('aria-hidden', true)
      scrollerInner.appendChild(duplicatedItem)
    })
  })
}


// Function to call in HTML file after resume button click
// for downloading resume pdf file.
function downloadPdf(){
  document.getElementById("pdf_file").click();
}


// CODE FOR HANDLING HACKER TEXT ANIMATION.
const letters = "ABCDEFGHIJKLMNOPQRSTUVWXYZ";
let interval = null;
const objToHover = document.getElementById("home")
  
// On mouse over on home name logo, animate hacker text.
objToHover.onmouseover = event => {  
  let iteration = 0;
  
  // Clear interval before animation.
  clearInterval(interval);
  
  // Create interval.
  interval = setInterval(() => {

    // Split the existing inner text, map over eaxh letter,
    // take random letter, put that random letter in mapped letter,
    // put the original letter of the same index.
    event.target.innerText = event.target.innerText
      .split("")
      .map((letter, index) => {
        if(index < iteration) {
          return event.target.dataset.value[index];
        }
      
        return letters[Math.floor(Math.random() * 26)]
      })
      .join("");
    
    // If iterated to the length of original text then,
    // stop interval execution.
    if(iteration >= event.target.dataset.value.length){ 
      clearInterval(interval);
    }
    
    // Iterate 3 times for each letter.
    iteration += 1 / 3;
  }, 30);
}


// animateText(i) => Takes index of the nav items to 
// animate hacker text of nav link item.
function animateText(i){

  // Get the all objects eligible for animation.
  const hoverObj = document.querySelectorAll(".greatText");
  let iteration = 0;
  
  // Clear interval before animation.
  clearInterval(interval);
  
  // Split the existing inner text, map over eaxh letter,
  // take random letter, put that random letter in mapped letter,
  // put the original letter of the same index.
  interval = setInterval(() => {
    hoverObj[i].innerText = hoverObj[i].innerText
      .split("")
      .map((letter, index) => {
        if(index < iteration) {
          return hoverObj[i].dataset.value[index];
        }
      
        return letters[Math.floor(Math.random() * 26)]
      })
      .join("");
    
    // If iterated to the length of original text then,
    // stop interval execution.
    if(iteration >= hoverObj[i].dataset.value.length){ 
      clearInterval(interval);
    }
    
    // Iterate 3 times for each letter.
    iteration += 1 / 3;
  }, 30);
}

let slideIndex = 1;
showSlides(slideIndex);

function plusSlides(n) {
  showSlides(slideIndex += n);
}

function currentSlide(n) {
  showSlides(slideIndex = n);
}

// function: showSlides: to show ie move images slides on button clicks.
function showSlides(n) {
  let i;
  let slides = document.getElementsByClassName("mySlides");
  let dots = document.getElementsByClassName("dot");
  if (n > slides.length) {slideIndex = 1}    
  if (n < 1) {slideIndex = slides.length}
  for (i = 0; i < slides.length; i++) {
    slides[i].style.display = "none";  
  }
  for (i = 0; i < dots.length; i++) {
    dots[i].className = dots[i].className.replace(" active", "");
  }
  slides[slideIndex-1].style.display = "flex";  
  dots[slideIndex-1].className += " active";
}

// Code to show or hide my photo on mouse over
// also to maintain the image always stays near pointer.
const photo = document.getElementById("photo");
photo.onmouseover = (event) => {
  const photo_img = document.getElementById("photo__img");
  photo_img.animate({
    opacity: 1,
  }, { duration: 500, fill: 'forwards'})
  photo_img.style.left = (clientX - 50) + "px";
  photo_img.style.top = (document.documentElement.scrollTop + clientY - 50) + "px";
}

photo.onmousemove = (event) => {
  const photo_img = document.getElementById("photo__img");
  photo_img.animate({
    left: (clientX - 50) + "px",
    top: (document.documentElement.scrollTop + clientY - 50) + "px",
  }, { duration: 500, fill: 'forwards'})
}

photo.onmouseout = (event) => {
  const photo_img = document.getElementById("photo__img");
  photo_img.animate({
    opacity: 0,
  }, { duration: 500, fill: 'forwards'})
}

// Code to show or hide certificates on mouse over
// also to maintain the image always stays near pointer.
const imageSources = ["./src/rwd.png", "./src/beta.png", "./src/fdl.png", "./src/jsads.png"];
const imgCert = document.querySelectorAll(".cert_img__a");
imgCert.forEach((item, index) => {
  item.addEventListener("mouseover", e => {
    const certImg = document.getElementById("certImg");
    certImg.style.left = clientX + "px";
    certImg.style.top = document.documentElement.scrollTop + clientY + "px";
    certImg.setAttribute("src", imageSources[index]);
    certImg.animate({
      opacity: 1,
    }, {duration: 500, fill: "forwards"})
  })

  item.addEventListener("mousemove", e => {
    const certImg = document.getElementById("certImg");
    certImg.setAttribute("src", imageSources[index]);
    certImg.animate({
      left: (clientX) + "px",
      top: (document.documentElement.scrollTop + clientY) + "px",
    }, {duration: 500, fill: "forwards"})
  })

  item.addEventListener("mouseout", e => {
    const certImg = document.getElementById("certImg");
    certImg.animate({
      opacity: 0,
    }, {duration: 500, fill: "forwards"})
  })
})

// Function to show error if form is invalid.
function showError(id){
  document.getElementById(id).animate({
    opacity: 1,
  }, {duration: 250, fill: "forwards"})
}

// Function to hide errors shown on form invalid.
function hideError(id){
  document.getElementById(id).animate({
    opacity: 0,
  }, {duration: 150, fill: "forwards"})
}

// Function to send mail using the custom server api.
function sendMail(){
  const name = document.getElementById('senderName').value;
  const email = document.getElementById('senderEmail').value;
  const message = document.getElementById('sendingMsg').value;

  async function sendEmail() {

    // If name is invalid show error.
    if (!name) {
      showError("err__name");
    }

    // If email is invalid show error.
    if (!email || !emailRegex.test(email)) {
      showError("err__email");
    }

    // If message is invalid show error.
    if (!message) {
      showError("err__msg");
    }

    // return and reset form to stop further execution and avoid server errors.
    if (!name || !email || !emailRegex.test(email) || !message){
      document.getElementById("contact__form").reset();
      return;
    }
    try {
      document.getElementById("submitButton").value = "Sending...";
      const response = await fetch('https://mailserver-k0i2.onrender.com/send-email', {
        method: 'POST',
        headers: {
          'Content-Type': 'application/json'
        },
        body: JSON.stringify({
          name,
          email,
          message
        })
      });

      const data = await response.json();

      if (data.message === 'Email sent successfully!') {
        alert("Message Sent Succesfully!");
        console.log('Email sent!');
        document.getElementById("submitButton").disabled = true;
        document.getElementById("submitButton").value = "Sent";
      } else {
        console.error('Error:', data.message);
        document.getElementById("submitButton").value = "Send";
      }
    } catch (error) {
      document.getElementById("submitButton").value = "Send";
      alert("Error: Try again or use email provided.");
      console.error('Error sending email:', error);
    } finally{
      document.getElementById("contact__form").reset()
      hideError("err__name");
      hideError("err__email");
      hideError("err__msg");
    }
  }

  // Send data to server to send mail.
  sendEmail();
}
    </script>
  </body>
</html>
